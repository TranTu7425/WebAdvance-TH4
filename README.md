# ğŸ‘— Phenikaa Fashion Shop - Thá»i Trang SÃ nh Äiá»‡u

## ThÃ nh viÃªn dá»± Ã¡n
- **Tráº§n Anh TÃº:** 23010332

## Truy cáº­p dá»± Ã¡n
- **Public Link:** [Phenikaa Fashion Shop - Thá»i trang sÃ nh Ä‘iá»‡u](http://www.pkafashionshop.live/)
- **Demo Link:** [Äang cáº­p nháº­t]

## MÃ´ táº£
`Phenikaa Fashion Shop` lÃ  má»™t á»©ng dá»¥ng web thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ chuyÃªn vá» thá»i trang, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn Laravel Framework. Website cung cáº¥p giao diá»‡n thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng, tÃ­ch há»£p Ä‘áº§y Ä‘á»§ cÃ¡c tÃ­nh nÄƒng cáº§n thiáº¿t cho má»™t há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ hiá»‡n Ä‘áº¡i.

### Äá»‘i tÆ°á»£ng ngÆ°á»i dÃ¹ng
- KhÃ¡ch hÃ ng cÃ¡ nhÃ¢n yÃªu thÃ­ch thá»i trang
- NgÆ°á»i tiÃªu dÃ¹ng tráº» tuá»•i (18-35 tuá»•i)
- NgÆ°á»i dÃ¹ng thÃ­ch mua sáº¯m trá»±c tuyáº¿n
- Quáº£n trá»‹ viÃªn vÃ  nhÃ¢n viÃªn cá»­a hÃ ng

### GiÃ¡ trá»‹ cá»‘t lÃµi
- **Cháº¥t lÆ°á»£ng sáº£n pháº©m:** Cam káº¿t cung cáº¥p sáº£n pháº©m thá»i trang cháº¥t lÆ°á»£ng cao
- **Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng:** Giao diá»‡n thÃ¢n thiá»‡n, dá»… sá»­ dá»¥ng
- **Dá»‹ch vá»¥ khÃ¡ch hÃ ng:** Há»— trá»£ nhanh chÃ³ng, chuyÃªn nghiá»‡p
- **Báº£o máº­t:** Äáº£m báº£o an toÃ n thÃ´ng tin vÃ  giao dá»‹ch

## ğŸ¯ Má»¥c tiÃªu dá»± Ã¡n

### Má»¥c tiÃªu ngáº¯n háº¡n
1. **PhÃ¡t triá»ƒn há»‡ thá»‘ng**
   - XÃ¢y dá»±ng ná»n táº£ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ hoÃ n chá»‰nh
   - TÃ­ch há»£p Ä‘áº§y Ä‘á»§ cÃ¡c tÃ­nh nÄƒng cáº§n thiáº¿t
   - Äáº£m báº£o hiá»‡u suáº¥t vÃ  báº£o máº­t há»‡ thá»‘ng

2. **Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng**
   - Táº¡o giao diá»‡n thÃ¢n thiá»‡n, dá»… sá»­ dá»¥ng
   - Tá»‘i Æ°u hÃ³a quy trÃ¬nh mua sáº¯m
   - Cung cáº¥p tráº£i nghiá»‡m mua sáº¯m mÆ°á»£t mÃ 

3. **Quáº£n lÃ½ sáº£n pháº©m**
   - XÃ¢y dá»±ng há»‡ thá»‘ng quáº£n lÃ½ sáº£n pháº©m hiá»‡u quáº£
   - Tá»• chá»©c danh má»¥c sáº£n pháº©m rÃµ rÃ ng
   - Quáº£n lÃ½ tá»“n kho chÃ­nh xÃ¡c

### Má»¥c tiÃªu dÃ i háº¡n
1. **PhÃ¡t triá»ƒn thÆ°Æ¡ng hiá»‡u**
   - XÃ¢y dá»±ng thÆ°Æ¡ng hiá»‡u thá»i trang uy tÃ­n
   - Má»Ÿ rá»™ng danh má»¥c sáº£n pháº©m
   - PhÃ¡t triá»ƒn cá»™ng Ä‘á»“ng khÃ¡ch hÃ ng trung thÃ nh

2. **Má»Ÿ rá»™ng thá»‹ trÆ°á»ng**
   - PhÃ¡t triá»ƒn Ä‘a kÃªnh bÃ¡n hÃ ng
   - Má»Ÿ rá»™ng pháº¡m vi phá»¥c vá»¥
   - TÄƒng cÆ°á»ng há»£p tÃ¡c vá»›i cÃ¡c Ä‘á»‘i tÃ¡c

3. **Cáº£i tiáº¿n liÃªn tá»¥c**
   - Cáº­p nháº­t cÃ´ng nghá»‡ má»›i
   - NÃ¢ng cao cháº¥t lÆ°á»£ng dá»‹ch vá»¥
   - Tá»‘i Æ°u hÃ³a tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng

## ğŸ“¦ TÃ­nh nÄƒng chÃ­nh
- **XÃ¡c thá»±c ngÆ°á»i dÃ¹ng**
  - ÄÄƒng kÃ½ tÃ i khoáº£n
  - ÄÄƒng nháº­p/ÄÄƒng xuáº¥t
  - Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n
  - Quáº£n lÃ½ Ä‘á»‹a chá»‰ giao hÃ ng

- **Quáº£n lÃ½ sáº£n pháº©m**
  - Hiá»ƒn thá»‹ danh sÃ¡ch sáº£n pháº©m theo danh má»¥c
  - TÃ¬m kiáº¿m vÃ  lá»c sáº£n pháº©m
  - Chi tiáº¿t sáº£n pháº©m vá»›i hÃ¬nh áº£nh
  - Quáº£n lÃ½ thÆ°Æ¡ng hiá»‡u (Brands)
  - Quáº£n lÃ½ danh má»¥c (Categories)

- **Giá» hÃ ng & Thanh toÃ¡n**
  - ThÃªm/XÃ³a sáº£n pháº©m vÃ o giá»
  - Cáº­p nháº­t sá»‘ lÆ°á»£ng sáº£n pháº©m
  - Ãp dá»¥ng mÃ£ giáº£m giÃ¡
  - Thanh toÃ¡n an toÃ n
  - Quáº£n lÃ½ Ä‘á»‹a chá»‰ giao hÃ ng

- **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng**
  - Theo dÃµi tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
  - Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
  - Xuáº¥t hÃ³a Ä‘Æ¡n
  - Quáº£n lÃ½ giao hÃ ng

- **Trang quáº£n trá»‹**
  - Dashboard thá»‘ng kÃª doanh thu
  - Quáº£n lÃ½ sáº£n pháº©m vÃ  tá»“n kho
  - Quáº£n lÃ½ Ä‘Æ¡n hÃ ng vÃ  tráº¡ng thÃ¡i
  - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
  - Quáº£n lÃ½ mÃ£ giáº£m giÃ¡
  - Quáº£n lÃ½ slider trang chá»§
  - Quáº£n lÃ½ liÃªn há»‡
  - CÃ i Ä‘áº·t há»‡ thá»‘ng

## UML cá»§a dá»± Ã¡n
**SÆ¡ Ä‘á»“ cáº¥u trÃºc (Class Diagram)**
<img src="public/assets/images/giaodien/classuml.png"/>

## ğŸš€ Giao diá»‡n há»‡ thá»‘ng
 **Giao diá»‡n Ä‘Äƒng nháº­p:**
<img src="public/assets/images/giaodien/dnhap.png"/>
 **Giao diá»‡n Ä‘Äƒng kÃ½ tÃ i khoáº£n:**
<img src="public/assets/images/giaodien/dky.png"/>
 **Giao diá»‡n báº£ng Ä‘iá»u khiá»ƒn cho quáº£n trá»‹ viÃªn:**
<img src="public/assets/images/giaodien/dashboard.png"/>
 **Giao diá»‡n quáº£n lÃ½ danh sÃ¡ch cÃ¡c sáº£n pháº©m:**
<img src="public/assets/images/giaodien/dsachsanpham.png"/>
 **Giao diá»‡n quáº£n lÃ½ danh sÃ¡ch cÃ¡c thÆ°Æ¡ng hiá»‡u:**
<img src="public/assets/images/giaodien/dsachthuonghieu.png"/>
 **Giao diá»‡n quáº£n lÃ½ danh sÃ¡ch cÃ¡c danh má»¥c:**
<img src="public/assets/images/giaodien/dsdanhmuc.png"/>
 **Giao diá»‡n quáº£n lÃ½ Ä‘Æ¡n hÃ ng:**
<img src="public/assets/images/giaodien/donhang.png"/>
 **Giao diá»‡n quáº£n lÃ½ slide:**
<img src="public/assets/images/giaodien/dsslide.png"/>
 **Giao diá»‡n quáº£n lÃ½ mÃ£ giáº£m giÃ¡:**
<img src="public/assets/images/giaodien/magiamgia.png"/>
 **Giao diá»‡n quáº£n lÃ½ cÃ¡c liÃªn há»‡ tá»« ngÆ°á»i dÃ¹ng:**
<img src="public/assets/images/giaodien/tinnhan.png"/>
 **Giao diá»‡n quáº£n lÃ½ tÃ i khoáº£n ngÆ°á»i dÃ¹ng:**
<img src="public/assets/images/giaodien/user.png"/>
 **Giao diá»‡n cÃ i Ä‘áº·t tÃ i khoáº£n quáº£n trá»‹ viÃªn:**
<img src="public/assets/images/giaodien/caidat.png"/>

## Giao diá»‡n ngÆ°á»i dÃ¹ng/khÃ¡ch:
**Giao diá»‡n trang chá»§:**
<img src="public/assets/images/giaodien/trangchu.png"/>
 **Giao diá»‡n cá»­a hÃ ng:**
<img src="public/assets/images/giaodien/cuahang.png"/>
 **Giao diá»‡n thÃ´ng tin sáº£n pháº©m:**
<img src="public/assets/images/giaodien/spham.png"/>
 **Giao diá»‡n giá» hÃ ng:**
<img src="public/assets/images/giaodien/giohang.png"/>
 **Giao diá»‡n liÃªn há»‡ há»— trá»£:**
<img src="public/assets/images/giaodien/lienhe.png"/>
 **Giao diá»‡n giá»›i thiá»‡u cá»­a hÃ ng:**
<img src="public/assets/images/giaodien/giothieu.png"/>
 **Giao diá»‡n báº£ng Ä‘iá»u khiá»ƒn tÃ i khoáº£n ngÆ°á»i dÃ¹ng:**
<img src="public/assets/images/giaodien/user1.png"/>

## CÆ¡ sá»Ÿ dá»¯ liá»‡u:
<img src="public/assets/images/giaodien/database.png"/>

## Minh há»a má»™t sá»‘ Ä‘oáº¡n code chÃ­nh
## `UserController`

**Tá»‡p tin:** `app/Http/Controllers/UserController.php`

Controller nÃ y chá»‹u trÃ¡ch nhiá»‡m xá»­ lÃ½ cÃ¡c logic liÃªn quan Ä‘áº¿n tÃ i khoáº£n ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p, bao gá»“m trang tá»•ng quan, xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng, chi tiáº¿t Ä‘Æ¡n hÃ ng vÃ  cÃ¡c hÃ nh Ä‘á»™ng khÃ¡c cá»§a ngÆ°á»i dÃ¹ng.

### 1. `index()`

- **MÃ´ táº£:** Hiá»ƒn thá»‹ trang tá»•ng quan (dashboard) cho ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p.
- **PhÆ°Æ¡ng thá»©c:** `GET`
- **Route (Ä‘á» xuáº¥t):** `/user/dashboard`
- **Luá»“ng xá»­ lÃ½:**
    - Tráº£ vá» view `user.index`.
- **Code:**
  ```php
  public function index()
  {
      return view('user.index');
  }
  ```

### 2. `orders()`

- **MÃ´ táº£:** Láº¥y vÃ  hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c Ä‘Æ¡n hÃ ng cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i.
- **PhÆ°Æ¡ng thá»©c:** `GET`
- **Route (Ä‘á» xuáº¥t):** `/user/orders`
- **Luá»“ng xá»­ lÃ½:**
    1. Láº¥y ID cá»§a ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p thÃ´ng qua `Auth::user()->id`.
    2. Truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘á»ƒ láº¥y táº¥t cáº£ cÃ¡c Ä‘Æ¡n hÃ ng (`Order`) cÃ³ `user_id` tÆ°Æ¡ng á»©ng.
    3. Sáº¯p xáº¿p káº¿t quáº£ theo ngÃ y táº¡o (`created_at`) giáº£m dáº§n.
    4. PhÃ¢n trang káº¿t quáº£, má»—i trang hiá»ƒn thá»‹ 10 Ä‘Æ¡n hÃ ng (`paginate(10)`).
    5. Tráº£ vá» view `user.orders` cÃ¹ng vá»›i biáº¿n `$orders` chá»©a danh sÃ¡ch Ä‘Æ¡n hÃ ng Ä‘Ã£ phÃ¢n trang.
- **Code:**
  ```php
  public function orders()
  {
      $orders = Order::where('user_id', Auth::user()->id)->orderBy('created_at', 'desc')->paginate(10);
      return view('user.orders', compact('orders'));
  }
  ```

### 3. `order_details($order_id)`

- **MÃ´ táº£:** Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cá»§a má»™t Ä‘Æ¡n hÃ ng cá»¥ thá»ƒ, bao gá»“m cÃ¡c sáº£n pháº©m vÃ  thÃ´ng tin giao dá»‹ch.
- **PhÆ°Æ¡ng thá»©c:** `GET`
- **Route (Ä‘á» xuáº¥t):** `/user/orders/{order_id}`
- **Tham sá»‘:**
    - `$order_id`: ID cá»§a Ä‘Æ¡n hÃ ng cáº§n xem.
- **Luá»“ng xá»­ lÃ½:**
    1. TÃ¬m kiáº¿m Ä‘Æ¡n hÃ ng (`Order`) vá»›i `id` Ä‘Æ°á»£c cung cáº¥p **vÃ ** pháº£i thuá»™c vá» ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p (`user_id` = `Auth::user()->id`). ÄÃ¢y lÃ  má»™t bÆ°á»›c báº£o máº­t quan trá»ng Ä‘á»ƒ Ä‘áº£m báº£o ngÆ°á»i dÃ¹ng khÃ´ng xem Ä‘Æ°á»£c Ä‘Æ¡n hÃ ng cá»§a ngÆ°á»i khÃ¡c.
    2. **Náº¿u tÃ¬m tháº¥y Ä‘Æ¡n hÃ ng:**
        - Láº¥y danh sÃ¡ch cÃ¡c sáº£n pháº©m trong Ä‘Æ¡n hÃ ng (`OrderItem`) vÃ  phÃ¢n trang (12 sáº£n pháº©m/trang).
        - Láº¥y thÃ´ng tin giao dá»‹ch (`Transaction`) liÃªn quan Ä‘áº¿n Ä‘Æ¡n hÃ ng.
        - Tráº£ vá» view `user.order-details` vá»›i cÃ¡c dá»¯ liá»‡u: `$order`, `$orderItems`, `$transaction`.
    3. **Náº¿u khÃ´ng tÃ¬m tháº¥y Ä‘Æ¡n hÃ ng** (do sai ID hoáº·c khÃ´ng cÃ³ quyá»n truy cáº­p):
        - Chuyá»ƒn hÆ°á»›ng ngÆ°á»i dÃ¹ng vá» trang Ä‘Äƒng nháº­p.
- **Code:**
  ```php
  public function order_details($order_id)
  {
      $order = Order::where('user_id', Auth::user()->id)->where('id', $order_id)->first();
      if($order) {
          $orderItems = OrderItem::where('order_id', $order->id)->orderBy('id')->paginate(12);
          $transaction = Transaction::where('order_id', $order->id)->first();
          return view('user.order-details', compact('order', 'orderItems', 'transaction'));
      } else {
          return redirect()->route('login');
      }
  }
  ```

### 4. `order_cancel(Request $request)`

- **MÃ´ táº£:** Xá»­ lÃ½ yÃªu cáº§u há»§y má»™t Ä‘Æ¡n hÃ ng.
- **PhÆ°Æ¡ng thá»©c:** `POST` (hoáº·c `PUT`/`PATCH`)
- **Route (Ä‘á» xuáº¥t):** `/user/orders/cancel`
- **Tham sá»‘:**
    - `Request $request`: Chá»©a `order_id` cá»§a Ä‘Æ¡n hÃ ng cáº§n há»§y, Ä‘Æ°á»£c gá»­i lÃªn tá»« form.
- **Luá»“ng xá»­ lÃ½:**
    1. TÃ¬m Ä‘Æ¡n hÃ ng (`Order`) dá»±a trÃªn `order_id` nháº­n Ä‘Æ°á»£c tá»« request.
    2. Cáº­p nháº­t tráº¡ng thÃ¡i (`status`) cá»§a Ä‘Æ¡n hÃ ng thÃ nh `canceled`.
    3. Ghi láº¡i ngÃ y há»§y Ä‘Æ¡n (`canceled_date`) lÃ  thá»i gian hiá»‡n táº¡i.
    4. LÆ°u cÃ¡c thay Ä‘á»•i vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u.
    5. Chuyá»ƒn hÆ°á»›ng ngÆ°á»i dÃ¹ng trá»Ÿ láº¡i trang trÆ°á»›c Ä‘Ã³ vá»›i má»™t thÃ´ng bÃ¡o flash (`status`) vá» viá»‡c há»§y Ä‘Æ¡n thÃ nh cÃ´ng.
- **LÆ°u Ã½:** PhÆ°Æ¡ng thá»©c nÃ y khÃ´ng kiá»ƒm tra xem Ä‘Æ¡n hÃ ng cÃ³ thuá»™c vá» ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p hay khÃ´ng. Báº¡n nÃªn thÃªm bÆ°á»›c kiá»ƒm tra nÃ y Ä‘á»ƒ tÄƒng cÆ°á»ng báº£o máº­t.
- **Code:**
  ```php
  public function order_cancel(Request $request)
  {
      // TODO: Add authorization check: Ensure the order belongs to the authenticated user.
      $order = Order::find($request->order_id);
      $order->status = 'canceled';
      $order->canceled_date = Carbon::now();
      $order->save();
      return back()->with('status', 'Order canceled successfully!');
  }
  ```

## `User` Model

**Tá»‡p tin:** `app/Models/User.php`

ÄÃ¢y lÃ  model trung tÃ¢m cá»§a á»©ng dá»¥ng, chá»‹u trÃ¡ch nhiá»‡m biá»ƒu diá»…n dá»¯ liá»‡u vÃ  hÃ nh vi cá»§a má»™t ngÆ°á»i dÃ¹ng. Model nÃ y káº¿ thá»«a tá»« `Illuminate\Foundation\Auth\User as Authenticatable`, cÃ³ nghÄ©a lÃ  nÃ³ Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p sáºµn cÃ¡c chá»©c nÄƒng cáº§n thiáº¿t cho viá»‡c xÃ¡c thá»±c (authentication) trong Laravel.

### Äáº·c Ä‘iá»ƒm chÃ­nh

- **XÃ¡c thá»±c:** CÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i há»‡ thá»‘ng Auth cá»§a Laravel (vÃ­ dá»¥: `Auth::user()`, `Auth::attempt()`).
- **ThÃ´ng bÃ¡o:** Sá»­ dá»¥ng `Notifiable` trait, cho phÃ©p ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ nháº­n cÃ¡c thÃ´ng bÃ¡o (notifications) cá»§a Laravel, vÃ­ dá»¥ nhÆ° email Ä‘áº·t láº¡i máº­t kháº©u.
- **Factory:** Sá»­ dá»¥ng `HasFactory` trait Ä‘á»ƒ dá»… dÃ ng táº¡o dá»¯ liá»‡u máº«u cho viá»‡c testing.

### Thuá»™c tÃ­nh (Properties)

#### `fillable` (Mass Assignment)

CÃ¡c thuá»™c tÃ­nh Ä‘Æ°á»£c liá»‡t kÃª trong máº£ng `$fillable` cÃ³ thá»ƒ Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹ hÃ ng loáº¡t. ÄÃ¢y lÃ  má»™t cÆ¡ cháº¿ báº£o máº­t cá»§a Laravel Ä‘á»ƒ ngÄƒn cháº·n viá»‡c ngÆ°á»i dÃ¹ng tá»± Ã½ cáº­p nháº­t cÃ¡c cá»™t khÃ´ng mong muá»‘n trong cÆ¡ sá»Ÿ dá»¯ liá»‡u.

- `name`: TÃªn cá»§a ngÆ°á»i dÃ¹ng.
- `email`: Äá»‹a chá»‰ email (thÆ°á»ng dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p).
- `phone`: Sá»‘ Ä‘iá»‡n thoáº¡i cá»§a ngÆ°á»i dÃ¹ng.
- `password`: Máº­t kháº©u (sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng bÄƒm).
- `utype`: Loáº¡i ngÆ°á»i dÃ¹ng (vÃ­ dá»¥: 'USR' cho ngÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng, 'ADM' cho quáº£n trá»‹ viÃªn).

```php
protected $fillable = [
    'name',
    'email',
    'phone',
    'password',
    'utype',
];
```

#### `hidden` (Thuá»™c tÃ­nh áº©n)

CÃ¡c thuá»™c tÃ­nh nÃ y sáº½ bá»‹ áº©n Ä‘i khi model Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i thÃ nh máº£ng (array) hoáº·c JSON. Äiá»u nÃ y giÃºp báº£o vá»‡ cÃ¡c thÃ´ng tin nháº¡y cáº£m khÃ´ng bá»‹ lá»™ ra ngoÃ i, Ä‘áº·c biá»‡t khi xÃ¢y dá»±ng API.

- `password`: LuÃ´n áº©n hash máº­t kháº©u.
- `remember_token`: áº¨n token "ghi nhá»› Ä‘Äƒng nháº­p".

```php
protected $hidden = [
    'password',
    'remember_token',
];
```

#### `casts()` (Attribute Casting)

PhÆ°Æ¡ng thá»©c nÃ y tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i cÃ¡c thuá»™c tÃ­nh sang má»™t kiá»ƒu dá»¯ liá»‡u mong muá»‘n khi báº¡n truy cáº­p chÃºng.

- `email_verified_at`: Tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng `Carbon`, giÃºp dá»… dÃ ng thao tÃ¡c vá»›i ngÃ y thÃ¡ng.
- `password`: **Tá»± Ä‘á»™ng bÄƒm (hash)** giÃ¡ trá»‹ khi báº¡n gÃ¡n má»™t máº­t kháº©u má»›i cho thuá»™c tÃ­nh nÃ y. VÃ­ dá»¥: `$user->password = 'new-password';` sáº½ tá»± Ä‘á»™ng lÆ°u hash vÃ o CSDL.

```php
protected function casts(): array
{
    return [
        'email_verified_at' => 'datetime',
        'password' => 'hashed',
    ];
}
```

### CÃ¡c má»‘i quan há»‡ (Eloquent Relationships)

#### `settings()`

- **MÃ´ táº£:** Äá»‹nh nghÄ©a má»‘i quan há»‡ má»™t-nhiá»u (one-to-many) vá»›i model `Setting`.
- **Ã nghÄ©a:** Má»™t ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ³ nhiá»u cÃ i Ä‘áº·t.
- **Sá»­ dá»¥ng:** `$user->settings` Ä‘á»ƒ láº¥y táº¥t cáº£ cÃ i Ä‘áº·t cá»§a ngÆ°á»i dÃ¹ng.
- **Code:**
  ```php
  public function settings()
  {
      return $this->hasMany(Setting::class);
  }
  ```

#### `addresses()`

- **MÃ´ táº£:** Äá»‹nh nghÄ©a má»‘i quan há»‡ má»™t-nhiá»u (one-to-many) vá»›i model `Address`.
- **Ã nghÄ©a:** Má»™t ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ³ nhiá»u Ä‘á»‹a chá»‰.
- **Sá»­ dá»¥ng:** `$user->addresses` Ä‘á»ƒ láº¥y danh sÃ¡ch Ä‘á»‹a chá»‰ cá»§a ngÆ°á»i dÃ¹ng.
- **Code:**
  ```php
  public function addresses()
  {
      return $this->hasMany(Address::class);
  }
  ```

#### `contacts()`

- **MÃ´ táº£:** Äá»‹nh nghÄ©a má»‘i quan há»‡ má»™t-nhiá»u (one-to-many) vá»›i model `Contact`.
- **Ã nghÄ©a:** Má»™t ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ³ nhiá»u thÃ´ng tin liÃªn há»‡.
- **Sá»­ dá»¥ng:** `$user->contacts` Ä‘á»ƒ láº¥y danh sÃ¡ch liÃªn há»‡ cá»§a ngÆ°á»i dÃ¹ng.
- **Code:**
  ```php
  public function contacts()
  {
      return $this->hasMany(Contact::class);
  }
  ```

## Giao diá»‡n (View): Thanh Ä‘iá»u hÆ°á»›ng TÃ i khoáº£n NgÆ°á»i dÃ¹ng

**Tá»‡p tin:** `resources/views/user/account-nav.blade`

ÄÃ¢y lÃ  Ä‘oáº¡n mÃ£ Blade táº¡o ra menu Ä‘iá»u hÆ°á»›ng dá»c trong khu vá»±c quáº£n lÃ½ tÃ i khoáº£n cá»§a ngÆ°á»i dÃ¹ng. Má»—i má»¥c trong menu dáº«n ngÆ°á»i dÃ¹ng Ä‘áº¿n má»™t trang chá»©c nÄƒng khÃ¡c nhau.

### PhÃ¢n tÃ­ch chi tiáº¿t cÃ¡c má»¥c

```html
<ul class="account-nav">
    <li><a href="{{ route('user.index') }}" class="menu-link menu-link_us-s">Báº£ng Ä‘iá»u khiá»ƒn</a></li>
    <li><a href="{{ route('user.orders') }}" class="menu-link menu-link_us-s">ÄÆ¡n hÃ ng</a></li>
    <li><a href="account-address.html" class="menu-link menu-link_us-s">Äá»‹a chá»‰</a></li>
    <li><a href="account-details.html" class="menu-link menu-link_us-s">ThÃ´ng tin tÃ i khoáº£n</a></li>
    <li><a href="{{ route('wishlist.index') }}" class="menu-link menu-link_us-s">Danh sÃ¡ch yÃªu thÃ­ch</a></li>
    <li>
        <form method="POST" action="{{ route('logout') }}" id="logout-form">
            @csrf
            <a href="{{ route('logout') }}" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                ÄÄƒng xuáº¥t
            </a>
        </form>
    </li>
</ul>
```

---

### 1. Báº£ng Ä‘iá»u khiá»ƒn (Dashboard)

- **TÃªn liÃªn káº¿t:** "Báº£ng Ä‘iá»u khiá»ƒn"
- **HÃ nh Ä‘á»™ng:** ÄÆ°a ngÆ°á»i dÃ¹ng Ä‘áº¿n trang tá»•ng quan chÃ­nh cá»§a tÃ i khoáº£n.
- **Route Ä‘Æ°á»£c sá»­ dá»¥ng:** `user.index`
- **PhÆ°Æ¡ng thá»©c Controller tÆ°Æ¡ng á»©ng:** `UserController@index`

```html
<li><a href="{{ route('user.index') }}" class="menu-link menu-link_us-s">Báº£ng Ä‘iá»u khiá»ƒn</a></li>
```

### 2. ÄÆ¡n hÃ ng (Orders)

- **TÃªn liÃªn káº¿t:** "ÄÆ¡n hÃ ng"
- **HÃ nh Ä‘á»™ng:** Hiá»ƒn thá»‹ danh sÃ¡ch lá»‹ch sá»­ cÃ¡c Ä‘Æ¡n hÃ ng Ä‘Ã£ Ä‘áº·t cá»§a ngÆ°á»i dÃ¹ng.
- **Route Ä‘Æ°á»£c sá»­ dá»¥ng:** `user.orders`
- **PhÆ°Æ¡ng thá»©c Controller tÆ°Æ¡ng á»©ng:** `UserController@orders`

```html
<li><a href="{{ route('user.orders') }}" class="menu-link menu-link_us-s">ÄÆ¡n hÃ ng</a></li>
```

### 3. Äá»‹a chá»‰ (Addresses)

- **TÃªn liÃªn káº¿t:** "Äá»‹a chá»‰"
- **HÃ nh Ä‘á»™ng:** Dáº«n Ä‘áº¿n trang quáº£n lÃ½ Ä‘á»‹a chá»‰ giao hÃ ng/thanh toÃ¡n.
- **Route Ä‘Æ°á»£c sá»­ dá»¥ng:** `account-address.html` (liÃªn káº¿t tÄ©nh)
- **Ghi chÃº:** Hiá»‡n táº¡i, Ä‘Ã¢y lÃ  má»™t liÃªn káº¿t tÄ©nh. Äá»ƒ hoÃ n thiá»‡n chá»©c nÄƒng, cáº§n chuyá»ƒn nÃ³ thÃ nh má»™t route Ä‘á»™ng cá»§a Laravel (vÃ­ dá»¥: `{{ route('user.addresses') }}`) vÃ  táº¡o má»™t phÆ°Æ¡ng thá»©c trong Controller Ä‘á»ƒ xá»­ lÃ½.

```html
<li><a href="account-address.html" class="menu-link menu-link_us-s">Äá»‹a chá»‰</a></li>
```

### 4. ThÃ´ng tin tÃ i khoáº£n (Account Details)

- **TÃªn liÃªn káº¿t:** "ThÃ´ng tin tÃ i khoáº£n"
- **HÃ nh Ä‘á»™ng:** Cho phÃ©p ngÆ°á»i dÃ¹ng xem vÃ  chá»‰nh sá»­a thÃ´ng tin cÃ¡ nhÃ¢n (tÃªn, email, máº­t kháº©u).
- **Route Ä‘Æ°á»£c sá»­ dá»¥ng:** `account-details.html` (liÃªn káº¿t tÄ©nh)
- **Ghi chÃº:** TÆ°Æ¡ng tá»± nhÆ° má»¥c "Äá»‹a chá»‰", Ä‘Ã¢y lÃ  má»™t liÃªn káº¿t tÄ©nh vÃ  cáº§n Ä‘Æ°á»£c thay tháº¿ báº±ng má»™t route Ä‘á»™ng cá»§a Laravel (vÃ­ dá»¥: `{{ route('user.details') }}`) Ä‘á»ƒ cÃ³ chá»©c nÄƒng hoÃ n chá»‰nh.

```html
<li><a href="account-details.html" class="menu-link menu-link_us-s">ThÃ´ng tin tÃ i khoáº£n</a></li>
```

### 5. Danh sÃ¡ch yÃªu thÃ­ch (Wishlist)

- **TÃªn liÃªn káº¿t:** "Danh sÃ¡ch yÃªu thÃ­ch"
- **HÃ nh Ä‘á»™ng:** Hiá»ƒn thá»‹ trang chá»©a cÃ¡c sáº£n pháº©m mÃ  ngÆ°á»i dÃ¹ng Ä‘Ã£ thÃªm vÃ o danh sÃ¡ch yÃªu thÃ­ch.
- **Route Ä‘Æ°á»£c sá»­ dá»¥ng:** `wishlist.index`
- **PhÆ°Æ¡ng thá»©c Controller tÆ°Æ¡ng á»©ng:** `WishlistController@index` (giáº£ Ä‘á»‹nh)

```html
<li><a href="{{ route('wishlist.index') }}" class="menu-link menu-link_us-s">Danh sÃ¡ch yÃªu thÃ­ch</a></li>
```

### 6. ÄÄƒng xuáº¥t (Logout)

- **TÃªn liÃªn káº¿t:** "ÄÄƒng xuáº¥t"
- **HÃ nh Ä‘á»™ng:** ÄÄƒng xuáº¥t ngÆ°á»i dÃ¹ng khá»i há»‡ thá»‘ng.
- **Luá»“ng hoáº¡t Ä‘á»™ng:**
    1. ÄÃ¢y khÃ´ng pháº£i lÃ  má»™t liÃªn káº¿t thÃ´ng thÆ°á»ng. NÃ³ Ä‘Æ°á»£c Ä‘áº·t bÃªn trong má»™t tháº» `<form>`.
    2. Form nÃ y cÃ³ phÆ°Æ¡ng thá»©c `POST` vÃ  trá» Ä‘áº¿n route `logout`. Chá»‰ thá»‹ `@csrf` Ä‘Æ°á»£c thÃªm vÃ o Ä‘á»ƒ báº£o vá»‡ chá»‘ng láº¡i táº¥n cÃ´ng CSRF.
    3. Khi ngÆ°á»i dÃ¹ng nháº¥p vÃ o liÃªn káº¿t "ÄÄƒng xuáº¥t", Ä‘oáº¡n mÃ£ JavaScript `onclick` sáº½ Ä‘Æ°á»£c thá»±c thi.
    4. `event.preventDefault();` ngÄƒn trÃ¬nh duyá»‡t thá»±c hiá»‡n hÃ nh Ä‘á»™ng máº·c Ä‘á»‹nh (Ä‘i Ä‘áº¿n `href`).
    5. `document.getElementById('logout-form').submit();` tÃ¬m form cÃ³ `id="logout-form"` vÃ  gá»­i (submit) form Ä‘Ã³.
    6. Viá»‡c sá»­ dá»¥ng `POST` cho chá»©c nÄƒng Ä‘Äƒng xuáº¥t lÃ  má»™t phÆ°Æ¡ng phÃ¡p báº£o máº­t tiÃªu chuáº©n trong Laravel.

```html
<li>
    <form method="POST" action="{{ route('logout') }}" id="logout-form">
        @csrf
        <a href="{{ route('logout') }}" class="" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
            ÄÄƒng xuáº¥t
        </a>
    </form>
</li>
```

## ğŸš€ YÃªu cáº§u há»‡ thá»‘ng
- PHP >= 8.1
- Composer
- MySQL >= 5.7
- Node.js >= 16.x
- NPM >= 8.x

## ğŸ”§ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t
```bash
# Clone repository
git clone [repository-url]
cd phenikaa-fashion-shop

# CÃ i Ä‘áº·t dependencies
composer install
npm install

# Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng
cp .env.example .env
php artisan key:generate

# Cáº¥u hÃ¬nh database trong file .env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=phenikaa_fashion
DB_USERNAME=root
DB_PASSWORD=

# Cháº¡y migrations vÃ  seeders
php artisan migrate --seed

# Build assets
npm run build

# Khá»Ÿi cháº¡y server
php artisan serve
```

## ğŸ“± CÃ´ng nghá»‡ sá»­ dá»¥ng
- **Backend:** Laravel 10.x
- **Frontend:** 
  - Blade Templates
  - TailwindCSS
  - Alpine.js
- **Database:** MySQL
- **CÃ´ng cá»¥ phÃ¡t triá»ƒn:**
  - Git
  - Composer
  - NPM

## ğŸ¤ ÄÃ³ng gÃ³p
Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c hoan nghÃªnh! Vui lÃ²ng thá»±c hiá»‡n theo cÃ¡c bÆ°á»›c sau:
1. Fork repository
2. Táº¡o branch má»›i (`git checkout -b feature/AmazingFeature`)
3. Commit thay Ä‘á»•i (`git commit -m 'Add some AmazingFeature'`)
4. Push lÃªn branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“„ Giáº¥y phÃ©p
Dá»± Ã¡n nÃ y Ä‘Æ°á»£c cáº¥p phÃ©p theo [MIT License](LICENSE).

---
*Phenikaa Fashion Shop* - Thá»i trang sÃ nh Ä‘iá»‡u, phong cÃ¡ch riÃªng báº¡n!

